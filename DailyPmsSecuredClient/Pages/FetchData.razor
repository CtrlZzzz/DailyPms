@page "/home"
@using DailyPmsSecuredClient.Components
@using System.Threading
@inject HttpClient Http
@implements IDisposable

<style>
    body {
        background-color: @CustomColors.TERTIARY;
        background-image: url(Images/bg_01.png);
        padding-left: 20px;
        padding-right: 20px;
    }
</style>

<MudPaper Elevation="0" Class=" py-2 mx-4 rounded-pill d-flex justify-center" Style="width: 255px; height: 60px; background-image: linear-gradient(90deg, #FBD27A, #FCF594);">
    <MudIcon Class="my-1 mr-2" Icon="@Icons.Material.Filled.Home"  Size="Size.Large" Style="color: #FFFFFF;" Align-content="Align.Center"/>
    <MudText  Style="font-size: 30px; font-weight: lighter; color: #FFFFFF;" Align="Align.Center">Accueil</MudText>
</MudPaper>

<MudText Style="font-size: 60px; font-weight: lighter; color: #FFFFFF;" Align="Align.Center">@DateTime.Now.ToLongDateString(), @currentTime</MudText>




@code {
    string currentTime;
    Timer timer;

    protected override void OnInitialized()
    {
        timer = new Timer(Tick, null, 0, 1000);
    }

    void Tick(object o)
    {
        currentTime = DateTime.Now.ToLongTimeString();
        InvokeAsync(StateHasChanged);
    }

    public void Dispose()
    {
        timer?.Dispose();
    }
}
